<html>
	<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Context-Script-Type" content="text/javascript">
<meta http-equiv="pragma" content="no-cache">


		<title>登入</title>
<!-- HTTP 1.1 -->
<meta http-equiv="Cache-Control" content="no-store" />
<!-- HTTP 1.0 -->
<meta http-equiv="Pragma" content="no-cache" />

<!-- Prevent iframe include from the other site -->
<meta http-equiv="X-Frame-Options" content="sameorigin">

<!-- Prevents caching at the Proxy Server -->
<meta http-equiv="Expires" content="0" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

<!-- For RWD Design -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="x-ua-compatible" content="IE=Edge">

<!-- Icon -->
<link rel="shortcut icon" href="./images/chinalife_favicon.png" />
<link rel="icon" type="image/png" href="./images/chinalife_favicon.png">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="./css/default.css">

<!-- for form validation -->
<link rel="stylesheet" type="text/css" href="./css/screen.css">

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<link rel="stylesheet" type="text/css" href="./css/ie10-viewport-bug-workaround.css">

<!-- for jQuery UI -->
<link rel="stylesheet" type="text/css" href="./css/themes/base/jquery.ui.all.css">

<!-- for Bootstrap -->
<link rel="stylesheet" type="text/css" href="./css/bootstrap/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="./css/bootstrap/bootstrap-theme.min.css">

<link rel="stylesheet" type="text/css" href="./css/jquery.smartmenus.bootstrap.css">
<link rel="stylesheet" type="text/css" href="./css/bootstrap/bootstrap-ext.css">

<!-- for jQuery EasyUI -->
<link rel="stylesheet" type="text/css" href="./css/themes/chinalife/easyui.css">
<!-- <link rel="stylesheet" type="text/css" href="./css/themes/mobile.css"> -->
<link rel="stylesheet" type="text/css" href="./css/themes/icon.css">
<link rel="stylesheet" type="text/css" href="./css/easyui-ext.css">

<link rel="stylesheet" type="text/css" href="./css/select2.min.css">
<link rel="stylesheet" type="text/css" href="./css/select2-bootstrap.min.css">

<link rel="stylesheet" type="text/css" href="./css/common.css">


<!-- Java Script -->
<script type="text/javascript" src="./js/json3.min.js"></script>
<script type="text/javascript" src="./js/html5.js"></script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script type="text/javascript" src="./js/html5shiv.min.js"></script>
<script type="text/javascript" src="./js/respond.min.js"></script>
<![endif]-->

<!-- For Jquery JavaScript Library -->
<script type="text/javascript" src="./js/jquery/jquery.min.js"></script>

<script type="text/javascript" src="./js/jqueryui/jquery.ui.core.js"></script>
<script type="text/javascript" src="./js/jqueryui/jquery.ui.widget.js"></script>
<script type="text/javascript" src="./js/jqueryui/jquery.ui.datepicker.js"></script>
<script type="text/javascript" src="./js/jqueryui/i18n/jquery.ui.datepicker-zh-TW.js"></script>

<script type="text/javascript" src="./js/jquery/jquery.easyui.min.js"></script>
<script type="text/javascript" src="./js/jquery/easyui-lang-zh_TW.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.easyui.ext.js"></script>
<!-- <script type="text/javascript" src="./js/jquery/jquery.easyui.mobile.js"></script> -->

<script type="text/javascript" src="./js/jquery/jquery.validate.min.js"></script>
<script type="text/javascript" src="./js/jquery/additional-methods.min.js"></script>
<script type="text/javascript" src="./js/jquery/messages_zh_TW.min.js"></script>

<script type="text/javascript" src="./js/jquery/jquery.base64.min.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.placeholder.min.js"></script>
<script type="text/javascript" src="./js/jquery/select2.min.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.blockUI.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.storageapi.min.js"></script>

<script type="text/javascript" src="./js/bootstrap.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.smartmenus.min.js"></script>
<script type="text/javascript" src="./js/jquery/jquery.smartmenus.bootstrap.min.js"></script>

<!-- for 中壽難字library -->
<!-- <script type="text/javascript" src="./js/hanlinks/wf.js"></script> -->

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script type="text/javascript" src="./js/ie10-viewport-bug-workaround.js"></script>

<script type="text/javascript" src="./js/core/session.js"></script>
<script type="text/javascript" src="./js/utils.js"></script>
                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
<script type="text/javascript">
	//var $j = $j || jQuery.noConflict();
	
	$(document).ready(function() {
		// 共用變數區-------------------------------------------------------

		// 頁面初始化區 -----------------------------------------------------
		$('input[type=text], input[type=search], input[type=url], input[type=telephone], input[type=email], input[type=password]').attr('autocomplete', 'off');	
		
		// 事件註冊區 -------------------------------------------------------
		$('.select2').on('change', function() {
			$(this).valid();
		});	

	});	
	
	/**
	 * 取代default alert javascript，這個比較漂亮
	 */
	function alert2(msg, title) {
		title = title || '提示';

		if (!msg) { msg = ''; }
		
		$.messager.alert(title, msg);
	}
	
	/**
	 * 停用 enter submit
	 */
	$(document).keypress(function(e) {
		// if (e.keyCode == 13) { e.keyCode = 0; return false; }
	});	

	/**
	 * 預設所有jQuery AJAX Request發生Error時會呼叫此function
	 */
	$(document).ajaxError(function(event, jqXHR, ajaxSettings, thrownError) {
		var status = jqXHR.status;
		
		if (status == '403') {
			alert('操作已逾時，系統即將登出');
			session.signOut();
		} else {
			alert('系統發生錯誤，請與系統管理人員聯絡');			
		}
	});
	
	/**
	 * 預設所有jQuery AJAX Request發送前會呼叫此function
	 */
	$(document).ajaxSend(function(event, jqXHR, ajaxSettings) {
		// Timer重新計數
		if (resetTimeOutInterval) { resetTimeOutInterval(event); }
		
		// 新增CSRF Header -------------------------------------------------
		var token = $("meta[name='_csrf']").attr("content");
		var header = $("meta[name='_csrf_header']").attr("content");					
		
		jqXHR.setRequestHeader(header, token);
	});
	
	$.extend($.validator.messages, {
		required: "此為必填欄位",
	});

	/**
	 * 解決form validation在bootstrap中，當驗證錯誤時，若輸入欄位有加icon，會造成欄位破掉
	 */
	$.validator.setDefaults({
	    highlight: function (element, errorClass, validClass) {
	        if (element.type === "radio") {
	            this.findByName(element.name).addClass(errorClass).removeClass(validClass);
	        } else {
	            $(element).closest('.form-group').removeClass('has-success has-feedback').addClass('has-error has-feedback');
	        }
	    },
	    unhighlight: function (element, errorClass, validClass) {
	        if (element.type === "radio") {
	            this.findByName(element.name).removeClass(errorClass).addClass(validClass);
	        } else {
	            $(element).closest('.form-group').removeClass('has-error has-feedback').addClass('has-success has-feedback');
	        }
	    },
	    errorElement: 'span',
	    errorClass: 'help-block',
	    errorPlacement: function(error, element) {
	        if(element.parent('.input-group').length) {
	            error.insertAfter(element.parent());
	        } else if (element.parent('.radio-inline').length) {
	            error.insertAfter(element.parent().parent());
	        } else if (element.hasClass('select2')) {
	            error.insertAfter(element.next('span'));
	        } else {
	            error.insertAfter(element);
	        }
	    }	    
	});	

</script>

<style type="text/css">
	/** 取代原本datepicker月下拉選單寬度，不調整的話中文會造成表格斷行 */
	.ui-datepicker select.ui-datepicker-month {
	 	font-size:12px;
	 	width: 35%;
	}
	
	/** 取代原本datepicker年下拉選單寬度，不調整的話中文會造成表格斷行  */
	.ui-datepicker select.ui-datepicker-year {
	 	font-size:12px;
	 	width: 40%;
	}
	
	/** select2 的下拉選單會跟著頁面大小resize */
	@media screen {
	    .select2 {
	        width: 100% !important;
	    }
	}

	/** 設定select2驗證錯誤時的樣式 */
	.has-error .select2-selection {
		border: 1px solid #a94442;
		border-radius: 4px;
	}
	
	/** for 載入中壽難字 */
	/*
	@font-face {
		font-family: Alertie;
		src: url(./js/hanlinks/eudc.ttf) format("truetype");
	}
	*/

	/** for 載入中壽難字 */
	/*
	@font-face {
		font-family: Hanlinks_IME;
		src: url(./js/hanlinks/eudc.ttf) format("truetype");
	}
	*/	
</style>



		
		<script type="text/javascript">

			$(document).ready(function() {
				// 共用變數區-------------------------------------------------------
	
				// 頁面初始化區 -----------------------------------------------------
				
				$('input[placeholder]').placeholder();
				$('#kaptchaValue').val('');
				
				$(':input:visible:eq(0)').focus().select();
				
				// 事件註冊區 -------------------------------------------------------
				$("#form").validate({
					rules: {
						logInAccount: {
					    	required: true
						},
						logInPw: {
							required: true
						},
						kaptchaValue: {
							required: true
						}
					},
					messages: {
						
					}
				});
				
				$('#regenImgBt').click(function() {																// 重新產生圖形驗證碼
					$('#kaptchaImg').attr('src', 'kaptcha.jpg');
				});
				
				$('#doLogInBt').click(function() {
					if (!$("#form").valid()) { return false; }
					
				});
			});

		</script>
		
		<style type="text/css">
			body {
			  	padding-top: 40px;
			  	padding-bottom: 40px;
			 	background-color: #ffffff;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="${contextPath}/css/decorators.css">
		
		<script type="text/javascript">
			$(document).ready(function() {
				// 共用變數區-------------------------------------------------------
				var userAccount = '${optUserProfile.userAccount}';
	
				// 頁面初始化區 -----------------------------------------------------
				$.cookie("isSessionAlive", 'Y');
				if (userAccount) { setTimeOutInterval(); }	
				
				$('a[menuType="02"]').attr('target', '_blank');														// 02:項目(另開視窗)

				$('input:not(:disabled):not([readonly]):visible:eq(0)').focus().select();
				$('input[placeholder]').placeholder();
				
				// 事件註冊區 -------------------------------------------------------
				
				$('#logoutAnchor').click(function() {
					if (!confirm('確認登出?')) { return; }
					$("#caslogoutForm").submit();
				});
			});
		</script>
		
		<style type="text/css">
			body {

			}	
		</style>
		
	</head>
	
	<body >
		<div class="container-fluid">

			<!--  -->
			<div class="row" id="navMenuDiv">
				<div class="col-12">
					<div class="navbar navbar-default navbar-fixed-top" role="navigation">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
				      		<a class="pull-left" href="http://www.chinalife.com.tw/wps/portal/chinalife">
				      			<img alt="ChinaLife" src="./images/ChinaLife-Logo.png" />
				      		</a>
						</div>
						<div class="navbar-collapse collapse">

						</div>
					</div>
				</div>					
			</div>

			
			<div class="row centerContainer">
				<div class="col-md-6 leftContainer hidden-sm">
						                <img src="./images/login-pic.jpg" class="img-responsive">

					</div>
			
				<div class="col-md-6 contentContainer">
					<div id="mainBodyDiv">
						
		<div class="container">
			<div class="row">
				<div class="col-md-6 ">
					<div class="container-fluid">
						 <div class="panel panel-primary">
				            <div class="panel-heading">
				                <div class="bootstrap-panel-title"><h4>登入</h4></div>
				            </div>
					
							<form id="form" action="sys_menu.html" class="form-horizontal form-signin" method="post">
								<div class="bootstrap-panel-body">
								
									<!-- -------------------------------------- 隱藏區 -------------------------------------- -->
									<input type="hidden" id="msg" name="msg" value="${actionBean.msg}" />
									<input type="hidden" name="xxxx" value="xxxx" />	
									
									<!-- -------------------------------------- 查詢區 -------------------------------------- -->
									
									<div class="form-group">
			                        	<label class="col-md-3 control-label" for="logInAccount">使用者帳號</label>
			                        	<div class="col-md-9">
											<input type=text id="logInAccount" name="logInAccount" class="form-control" placeholder="請輸入帳號" required="required" />
			                        	</div>
			                    	</div>
				
									<div class="form-group">
			                        	<label class="col-md-3 control-label" for="logInPw">使用者密碼</label>
			                        	<div class="col-md-9">
											<input type=password id="logInPw" name="logInPw" class="form-control" autocomplete="off" placeholder="請輸入密碼" required="required" />
			                        	</div>
			                    	</div>
			                    	
									<div class="form-group">
			                        	<label class="col-md-3 control-label" for="kaptchaImg">圖形驗證碼</label>
			                        	<div class="col-md-9" style="">
											<img id="kaptchaImg" name="kaptchaImg" alt="圖形驗證碼" src="kaptcha.jpg" />
			                        		<button type="button" id="regenImgBt" class="btn btn-primary">重新產生</button>
			                        	</div>
			                    	</div>	
			
									<div class="form-group">
			                        	<label class="col-md-3 control-label" for="kaptchaValue">驗證碼</label>
			                        	<div class="col-md-9">
											<input type=text id="kaptchaValue" name="kaptchaValue" class="form-control" placeholder="請輸入驗證碼" required="required" />
			                        	</div>
			                    	</div>
			                    	
			                    	<div class="form-group">
			                    		<div class="col-md-12 col-md-offset-0">
											<input type=submit id="doLogInBt" name="doLogIn" class="btn btn-lg btn-primary btn-block" value="登入" />
			                    		</div>
			                    	</div>				
							
									<!-- -------------------------------------- 顯示區 -------------------------------------- -->
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
								
						
						
						
						
						
						
						
						
						
					</div>
				</div>
			
			
			<footer>
				<nav class="navbar navbar-inverse navbar-fixed-bottom" role="navigation">
	        		<div class="navbar-text navbar-right" id="copyrightDiv">
	          			<p>Copyright © 2017 ChinaLife Inc. All rights reserved</p>
	        		</div>				
				</nav>
			</footer>
		</div>
		
		
		
		<form id="caslogoutForm" action="${contextPath}/logout?${_csrf.parameterName}=${_csrf.token}" method="post" />
		
	</body>
</html>

