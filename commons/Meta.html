<!-- HTTP 1.1 -->
<meta http-equiv="Cache-Control" content="no-store" />
<!-- HTTP 1.0 -->
<meta http-equiv="Pragma" content="no-cache" />

<!-- Prevent iframe include from the other site -->
<meta http-equiv="X-Frame-Options" content="sameorigin">

<!-- Prevents caching at the Proxy Server -->
<meta http-equiv="Expires" content="0" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

<!-- For RWD Design -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="x-ua-compatible" content="IE=Edge">

<!-- Icon -->
<link rel="shortcut icon" href="../images/chinalife_favicon.png" />
<link rel="icon" type="image/png" href="../images/chinalife_favicon.png">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../css/default.css">

<!-- for form validation -->
<link rel="stylesheet" type="text/css" href="../css/screen.css">

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<link rel="stylesheet" type="text/css" href="../css/ie10-viewport-bug-workaround.css">

<!-- for jQuery UI -->
<link rel="stylesheet" type="text/css" href="../css/themes/base/jquery.ui.all.css">

<!-- for Bootstrap -->
<link rel="stylesheet" type="text/css" href="../css/bootstrap/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../css/bootstrap/bootstrap-theme.min.css">

<link rel="stylesheet" type="text/css" href="../css/jquery.smartmenus.bootstrap.css">
<link rel="stylesheet" type="text/css" href="../css/bootstrap/bootstrap-ext.css">

<!-- for jQuery EasyUI -->
<link rel="stylesheet" type="text/css" href="../css/themes/chinalife/easyui.css">
<!-- <link rel="stylesheet" type="text/css" href="../css/themes/mobile.css"> -->
<link rel="stylesheet" type="text/css" href="../css/themes/icon.css">
<link rel="stylesheet" type="text/css" href="../css/easyui-ext.css">

<link rel="stylesheet" type="text/css" href="../css/select2.min.css">
<link rel="stylesheet" type="text/css" href="../css/select2-bootstrap.min.css">

<link rel="stylesheet" type="text/css" href="../css/common.css">


<!-- Java Script -->
<script type="text/javascript" src="../js/json3.min.js"></script>
<script type="text/javascript" src="../js/html5.js"></script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script type="text/javascript" src="../js/html5shiv.min.js"></script>
<script type="text/javascript" src="../js/respond.min.js"></script>
<![endif]-->

<!-- For Jquery JavaScript Library -->
<script type="text/javascript" src="../js/jquery/jquery.min.js"></script>

<script type="text/javascript" src="../js/jqueryui/jquery.ui.core.js"></script>
<script type="text/javascript" src="../js/jqueryui/jquery.ui.widget.js"></script>
<script type="text/javascript" src="../js/jqueryui/jquery.ui.datepicker.js"></script>
<script type="text/javascript" src="../js/jqueryui/i18n/jquery.ui.datepicker-zh-TW.js"></script>

<script type="text/javascript" src="../js/jquery/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../js/jquery/easyui-lang-zh_TW.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.easyui.ext.js"></script>
<!-- <script type="text/javascript" src="../js/jquery/jquery.easyui.mobile.js"></script> -->

<script type="text/javascript" src="../js/jquery/jquery.validate.min.js"></script>
<script type="text/javascript" src="../js/jquery/additional-methods.min.js"></script>
<script type="text/javascript" src="../js/jquery/messages_zh_TW.min.js"></script>

<script type="text/javascript" src="../js/jquery/jquery.base64.min.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.placeholder.min.js"></script>
<script type="text/javascript" src="../js/jquery/select2.min.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.cookie.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.blockUI.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.storageapi.min.js"></script>

<script type="text/javascript" src="../js/bootstrap.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.smartmenus.min.js"></script>
<script type="text/javascript" src="../js/jquery/jquery.smartmenus.bootstrap.min.js"></script>

<!-- for 中壽難字library -->
<!-- <script type="text/javascript" src="../js/hanlinks/wf.js"></script> -->

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script type="text/javascript" src="../js/ie10-viewport-bug-workaround.js"></script>

<script type="text/javascript" src="../js/core/session.js"></script>
<script type="text/javascript" src="../js/utils.js"></script>
                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
<script type="text/javascript">
	//var $j = $j || jQuery.noConflict();
	
	$(document).ready(function() {
		// 共用變數區-------------------------------------------------------

		// 頁面初始化區 -----------------------------------------------------
		$('input[type=text], input[type=search], input[type=url], input[type=telephone], input[type=email], input[type=password]').attr('autocomplete', 'off');	
		
		// 事件註冊區 -------------------------------------------------------
		$('.select2').on('change', function() {
			$(this).valid();
		});	

	});	
	
	/**
	 * 取代default alert javascript，這個比較漂亮
	 */
	function alert2(msg, title) {
		title = title || '提示';

		if (!msg) { msg = ''; }
		
		$.messager.alert(title, msg);
	}
	
	/**
	 * 停用 enter submit
	 */
	$(document).keypress(function(e) {
		// if (e.keyCode == 13) { e.keyCode = 0; return false; }
	});	

	/**
	 * 預設所有jQuery AJAX Request發生Error時會呼叫此function
	 */
	$(document).ajaxError(function(event, jqXHR, ajaxSettings, thrownError) {
		var status = jqXHR.status;
		
		if (status == '403') {
			alert('操作已逾時，系統即將登出');
			session.signOut();
		} else {
			alert('系統發生錯誤，請與系統管理人員聯絡');			
		}
	});
	
	/**
	 * 預設所有jQuery AJAX Request發送前會呼叫此function
	 */
	$(document).ajaxSend(function(event, jqXHR, ajaxSettings) {
		// Timer重新計數
		if (resetTimeOutInterval) { resetTimeOutInterval(event); }
		
		// 新增CSRF Header -------------------------------------------------
		var token = $("meta[name='_csrf']").attr("content");
		var header = $("meta[name='_csrf_header']").attr("content");					
		
		jqXHR.setRequestHeader(header, token);
	});
	
	$.extend($.validator.messages, {
		required: "此為必填欄位",
	});

	/**
	 * 解決form validation在bootstrap中，當驗證錯誤時，若輸入欄位有加icon，會造成欄位破掉
	 */
	$.validator.setDefaults({
	    highlight: function (element, errorClass, validClass) {
	        if (element.type === "radio") {
	            this.findByName(element.name).addClass(errorClass).removeClass(validClass);
	        } else {
	            $(element).closest('.form-group').removeClass('has-success has-feedback').addClass('has-error has-feedback');
	        }
	    },
	    unhighlight: function (element, errorClass, validClass) {
	        if (element.type === "radio") {
	            this.findByName(element.name).removeClass(errorClass).addClass(validClass);
	        } else {
	            $(element).closest('.form-group').removeClass('has-error has-feedback').addClass('has-success has-feedback');
	        }
	    },
	    errorElement: 'span',
	    errorClass: 'help-block',
	    errorPlacement: function(error, element) {
	        if(element.parent('.input-group').length) {
	            error.insertAfter(element.parent());
	        } else if (element.parent('.radio-inline').length) {
	            error.insertAfter(element.parent().parent());
	        } else if (element.hasClass('select2')) {
	            error.insertAfter(element.next('span'));
	        } else {
	            error.insertAfter(element);
	        }
	    }	    
	});	

</script>

<style type="text/css">
	/** 取代原本datepicker月下拉選單寬度，不調整的話中文會造成表格斷行 */
	.ui-datepicker select.ui-datepicker-month {
	 	font-size:12px;
	 	width: 35%;
	}
	
	/** 取代原本datepicker年下拉選單寬度，不調整的話中文會造成表格斷行  */
	.ui-datepicker select.ui-datepicker-year {
	 	font-size:12px;
	 	width: 40%;
	}
	
	/** select2 的下拉選單會跟著頁面大小resize */
	@media screen {
	    .select2 {
	        width: 100% !important;
	    }
	}

	/** 設定select2驗證錯誤時的樣式 */
	.has-error .select2-selection {
		border: 1px solid #a94442;
		border-radius: 4px;
	}
	
	/** for 載入中壽難字 */
	/*
	@font-face {
		font-family: Alertie;
		src: url(../js/hanlinks/eudc.ttf) format("truetype");
	}
	*/

	/** for 載入中壽難字 */
	/*
	@font-face {
		font-family: Hanlinks_IME;
		src: url(../js/hanlinks/eudc.ttf) format("truetype");
	}
	*/	
</style>
